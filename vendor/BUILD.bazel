cc_import(
    name = "libpostal_darwin",
    hdrs = ["libpostal.h"],
    static_library = "libpostal_darwin.a",
    visibility = ["//visibility:public"],
)

cc_import(
    name = "libpostal_darwin_aarch64",
    hdrs = ["libpostal.h"],
    static_library = "libpostal_darwin_aarch64.a",
    visibility = ["//visibility:public"],
)

cc_import(
    name = "libpostal_linux_amd64",
    hdrs = ["libpostal.h"],
    static_library = "libpostal_linux_amd64.a",
    visibility = ["//visibility:public"],
)

cc_import(
    name = "libpostal_linux_arm64",
    hdrs = ["libpostal.h"],
    static_library = "libpostal_linux_arm64.a",
    visibility = ["//visibility:public"],
)

# Aliases for platform-agnostic references
alias(
    name = "libpostal_linux",
    actual = select({
        "@platforms//cpu:x86_64": ":libpostal_linux_amd64",
        "@platforms//cpu:aarch64": ":libpostal_linux_arm64",
    }),
    visibility = ["//visibility:public"],
)

alias(
    name = "libpostal_darwin_generic",
    actual = select({
        "@platforms//cpu:x86_64": ":libpostal_darwin",
        "@platforms//cpu:aarch64": ":libpostal_darwin_aarch64",
    }),
    visibility = ["//visibility:public"],
)